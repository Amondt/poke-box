<div class="container">
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
        <!-- Number Column -->
        <ng-container matColumnDef="number">
            <th mat-header-cell *matHeaderCellDef>#</th>
            <td mat-cell *matCellDef="let pokemon">
                <span class="icon-wrapper">
                    <img
                        class="icon"
                        [src]="pokemon.icon"
                        [alt]="pokemon.names[0].name"
                        [matTooltip]="pokemon.names[0].name"
                    />
                </span>
                <span class="number">
                    {{ pokemon.id | threeCharacterNumber }}
                </span>
            </td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef>Name</th>
            <td mat-cell *matCellDef="let pokemon">
                <p *ngFor="let name of pokemon.names">{{ name.name }}</p>
            </td>
        </ng-container>

        <!-- Type Column -->
        <ng-container matColumnDef="type">
            <th mat-header-cell *matHeaderCellDef>Type</th>
            <td mat-cell *matCellDef="let pokemon">
                <p *ngFor="let type of pokemon.types">{{ type }}</p>
            </td>
        </ng-container>

        <!-- Total Column -->
        <ng-container matColumnDef="total">
            <th mat-header-cell *matHeaderCellDef>Total</th>
            <td mat-cell *matCellDef="let pokemon">
                {{ getTotalStats(pokemon.stats) }}
            </td>
        </ng-container>

        <!-- Hp Column -->
        <ng-container matColumnDef="hp">
            <th mat-header-cell *matHeaderCellDef>Hp</th>
            <td mat-cell *matCellDef="let pokemon">
                {{ pokemon.stats[0].base_stat }}
            </td>
        </ng-container>

        <!-- Attack Column -->
        <ng-container matColumnDef="atk">
            <th mat-header-cell *matHeaderCellDef>Atk</th>
            <td mat-cell *matCellDef="let pokemon">
                {{ pokemon.stats[1].base_stat }}
            </td>
        </ng-container>

        <!-- Defense Column -->
        <ng-container matColumnDef="def">
            <th mat-header-cell *matHeaderCellDef>Atk</th>
            <td mat-cell *matCellDef="let pokemon">
                {{ pokemon.stats[2].base_stat }}
            </td>
        </ng-container>

        <!-- Special Attack Column -->
        <ng-container matColumnDef="spAtk">
            <th mat-header-cell *matHeaderCellDef>Sp. Atk</th>
            <td mat-cell *matCellDef="let pokemon">
                {{ pokemon.stats[3].base_stat }}
            </td>
        </ng-container>

        <!-- Special Defense Column -->
        <ng-container matColumnDef="spDef">
            <th mat-header-cell *matHeaderCellDef>Sp. Def</th>
            <td mat-cell *matCellDef="let pokemon">
                {{ pokemon.stats[4].base_stat }}
            </td>
        </ng-container>

        <!-- Speed Column -->
        <ng-container matColumnDef="speed">
            <th mat-header-cell *matHeaderCellDef>Speed</th>
            <td mat-cell *matCellDef="let pokemon">
                {{ pokemon.stats[5].base_stat }}
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>

    <mat-paginator
        [pageSizeOptions]="[10, 50, 200, 1000]"
        showFirstLastButtons
        aria-label="Select page of pokemons"
    ></mat-paginator>
</div>
